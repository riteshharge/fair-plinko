generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Round {
  id               String    @id @default(cuid())
  createdAt        DateTime  @default(now())
  status           String    @default("committed")  //  matches roundRoutes.js commit step
  nonce            String                                 // changed from BigInt â†’ String
  commitHex        String
  serverSeed       String?
  clientSeed       String?
  combinedSeed     String?
  pegMapHash       String?
  rows             Int?      @default(12)                  //  default number of rows
  dropColumn       Int?      @default(6)                   //  default drop column
  binIndex         Int?
  payoutMultiplier Float?
  betCents         Int?      @default(100)
  pathJson         Json?
  revealedAt       DateTime?

  @@index([commitHex])
  @@index([combinedSeed])
  @@index([createdAt])
}
